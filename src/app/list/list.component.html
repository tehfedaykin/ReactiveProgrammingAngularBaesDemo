<div class="row sticky-header">
    <div class="col">
      <h2>Displaying {{displayedVillagerCount$ | async}} Villagers</h2>
    </div>
    <div class="col">
        <mat-label>Sort by</mat-label>
        <mat-select [formControl]="sortOptionControl">
            <mat-option *ngFor="let sortOption of sortOptions" [value]="sortOption">
            {{sortOption}}
            </mat-option>
        </mat-select>
      <!-- <mat-form-field appearance="fill">
       
    </mat-form-field> -->
    </div>
    <div class="col">
    </div>
    <div class="col">
      <mat-accordion>
        <mat-expansion-panel hideToggle >
          <mat-expansion-panel-header>
            <mat-panel-title>
              Filter
            </mat-panel-title>
            <mat-panel-description>
              Filter Villagers by Attributes
            </mat-panel-description>
          </mat-expansion-panel-header>
          <div *ngFor="let checkboxGroup of checkBoxList">
            <h3>{{checkboxGroup.attribute}}</h3>
            <mat-checkbox class="example-margin" 
                *ngFor="let checkbox of checkboxGroup.list" 
                (change)="checkboxChecked($event)" 
                value="{{checkbox}}">
                {{checkbox}}
            </mat-checkbox>
          </div>
          <button mat-raised-button (click)="applyFilters()">Apply Filters</button>

      </mat-expansion-panel>
      </mat-accordion>
    </div>
    <div class="col">
      <button mat-raised-button #resetButton>Reset</button>
    </div>
</div>
<div class="grid">
    <mat-card class="villager-card" [routerLink]="[villager.id]" *ngFor="let villager of displayedVillagers$ | async">
        <mat-card-header>
            <div mat-card-avatar class="header-image" style="background-image: url({{villager.iconUri}})"></div>
            <mat-card-title>{{villager.name['name-USen']}}</mat-card-title>
            <mat-card-subtitle>{{villager.birthdayString}}</mat-card-subtitle>
            
        </mat-card-header>
        <mat-card-content>
          <img src="{{villager.imageUri}}" alt="{{villager.name['name-USen']}}">
          <p>"{{villager.catchPhrase}}"</p>
          <mat-chip-list aria-label="Traits">
            <mat-chip>{{villager.species}}</mat-chip>
            <mat-chip>{{villager.hobby}}</mat-chip>
            <mat-chip>{{villager.personality}}</mat-chip>
          </mat-chip-list>
          
        </mat-card-content>
    </mat-card>
</div>



